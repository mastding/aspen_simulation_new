{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"$id": "https://example.com/process-flow-schema.json",
	"title": "工艺流股数据模型",
	"description": "定义化工工艺流股、设备单元和连接的完整数据模型",
	"type": "object",
	"required": ["components", "property_methods", "blocks", "streams", "block_connections", "stream_data"],
	"properties": {
		"components": {
			"type": "array",
			"description": "工艺中涉及的化学组分列表",
			"items": {
				"type": "object",
				"required": ["cid", "name", "cas_number", "database_name"],
				"properties": {
					"cid": {
						"type": "string",
						"description": "组分唯一标识符，用组分的英文简写表示，长度必须小于8"
					},
					"name": {
						"type": "string",
						"description": "组分的化学式别名，通常写分子式，如C3H6的别名为C3H6-2，苯乙烯的别名为C8H8"
					},
					"cas_number": {
						"type": "string",
						"description": "CAS登记号"
					},
					"database_name": {
						"type": "string",
						"description": "数据库中的名称"
					}
				}
			}
		},
		"property_methods": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"method_name": {
						"type": "string",
						"description": "物性方法名称，如UNIQUAC、NRTL、PENG-ROB等",
						"enum": ["UNIQUAC", "NRTL", "CHAO-SEA", "PENG-ROB", "RK-SOAVE", "SRK", "WILSON", "VAN-LAAR", "IDEAL", "UNIFAC"]
					},
					"is_basis_method": {
						"type": "boolean",
						"description": "是否为主物性方法"
					}
				},
				"required": ["method_name", "is_basis_method"],
				"additionalProperties": false
			},
			"minItems": 1,
			"maxItems": 10,
			"uniqueItems": true
		},
		"blocks": {
			"type": "array",
			"description": "工艺设备单元列表",
			"items": {
				"type": "object",
				"required": ["name", "type"],
				"properties": {
					"name": {
						"type": "string",
						"pattern": "^[A-Z][0-9A-Z]*$",
						"description": "设备单元名称,格式为：大写字母+数字（例如：B1）"
					},
					"type": {
						"type": "string",
						"enum": ["Mixer", "RadFrac", "DSTWU","Valve", "Compr", "Heater", "Pump", "RStoic", "RPlug", "Flash2", "Decanter", "Sep2", "Sep"],
						"description": "设备类型",
						"enumDescriptions": {
							"Mixer": "混合器,通常有多个进口（F(IN)）和一个出口（P(OUT)）。我们可以将循环物流连接到其中一个进口",
							"RadFrac": "单塔精馏严格计算模块,精馏塔的端口较多，包括进料口：F(IN)、塔顶气相出口：VD(OUT)（气相产品）、塔顶液相出口：LD(OUT)（回流液，也可作为产品，常被循环使用）、塔底出口：B(OUT)",
							"DSTWU": "精馏塔简捷设计模块,用于精馏塔的简捷计算和初步设计，基于Winn-Underwood-Gilliland方法估算最小回流比、最小理论板数和操作条件。模块端口包括进料口：F(IN)、馏出物：D(OUT)（气相产品）、塔底出口：B(OUT)",
							"Valve": "阀门，通常有进口F(IN)和出口P(OUT)。出口物流可以被循环使用，常用于压力控制循环系统",
							"Compr": "压缩机，用于气相物流的压力提升，通常有进口F(IN)和出口P(OUT)。出口的高压气相物流可以被循环，特别是在气体循环工艺中",
							"Heater": "加热器/冷却器，通常有热流和冷流的进出口，一般用F(IN)和P(OUT)表示。出口物流可以被循环。",
							"Pump": "泵，通常有进口F(IN)和出口P(OUT)。出口物流可以被循环",
							"RStoic": "化学计量反应器，通常有进口F(IN)和出口P(OUT)（或根据反应器类型有多个出口）。出口物流可以被循环",
							"RPlug": "活塞流反应器，模拟管式反应器行为，通常有进口F(IN)和出口P(OUT)。出口物流包含反应产物和未反应原料，常被循环回反应系统",
							"Flash2": "闪蒸罐，通常有进口F(IN)，气相出口V(OUT)和液相出口L(OUT)。这些出口都可以作为循环物流的来源",
							"Decanter": "两相液-液倾析器，用于不互溶液体的分离，通常有进口 F(IN) 和两个液相出口：L1(OUT)（通常为重相）和 L2(OUT)（通常为轻相）。这两个出口物流都可以作为循环物流的来源，例如将回收的溶剂循环回萃取过程。",
							"Sep2": "两出口组分分离器，按照设定分离要求将进料分成两股物流，通常有进口F(IN)和两个出口：塔顶类出口O(OUT)和塔底类出口B(OUT)。两个出口都可以配置循环物料",
							"Sep": "组分分离器，可按照组分或分率将进料分成多股出口物流，通常有进口F(IN)和多个出口，多个出口都用P(OUT)表示。所有出口物流都可以作为循环物料来源"
						}
					}
				}
			}
		},
		"streams": {
			"type": "array",
			"description": "工艺流股名称列表",
			"items": {
				"type": "string",
				"pattern": "^[A-Z]+-[0-9]+$",
				"description": "流股名称，字符长度必须小于8个字符，格式为：大写字母+连字符+数字（例如：S-1、FEED-15、PRO-2），不能出现PRODUCT-1等超过8个字符的命名"
			}
		},
		"block_connections": {
			"type": "object",
			"description": "\"设备单元之间的连接关系，设备名称必须来源于blocks，流股名称必须来源于streams，且确保所有的blocks和streams都包含。端口定义：F(IN)-进料，VD(OUT)-气相产物，LD(OUT)-液相回流产品，B(OUT)-塔底产品，P(OUT)-产品输出，V(OUT)-气相输出，L(OUT)-液相输出，O(OUT)-塔顶流出\"",
			"patternProperties": {
				"^[A-Z][0-9A-Z]*$": {
					"type": "object",
					"patternProperties": {
						"^[A-Z]+-[0-9]+$": {
							"type": "string",
							"enum": ["F(IN)", "VD(OUT)", "LD(OUT)", "B(OUT)", "P(OUT)", "V(OUT)", "L(OUT)", "L1(OUT)", "L2(OUT)", "O(OUT)"],
							"description": "流股连接类型",
								"enumDescriptions": {
									"F(IN)": "进料-适用于几乎所有单元操作（混合器、反应器、塔、换热器等）",
									"VD(OUT)": "气相产物-主要用于精馏塔，作为最终产品的气相流股",
									"LD(OUT)": "液相回流产品-主要用于精馏塔，从塔顶采出的液相产品",
									"B(OUT)": "塔底产品-适用于精馏塔、吸收塔、汽提塔、液液萃取塔等具有塔釜的设备，比如blocks中的Sep2",
									"P(OUT)": "产品输出-通用名称，可用于多种设备（闪蒸罐、反应器、泵等单出口设备）",
									"V(OUT)": "气相输出-适用于闪蒸罐、蒸发器、汽液分离器、带再沸器的塔等，不适用于精馏塔的产品流出",
									"L(OUT)": "液相输出-适用于闪蒸罐、混合器、分离器、换热器、塔等，在精馏塔中特指回流液体",
									"L1(OUT)": "液相输出-适用于闪蒸罐、混合器、分离器、换热器、塔等，在精馏塔中特指回流液体",
									"L2(OUT)": "液相输出-适用于闪蒸罐、混合器、分离器、换热器、塔等，在精馏塔中特指回流液体",
									"O(OUT)": "塔顶流出-主要用于不带冷凝器的精馏塔或简单塔，指从塔顶出来的总流出物，比如blocks中的Sep2"
								}
						}
					}
				}
			}
		},
		"stream_data": {
			"type": "object",
			"description": "流股详细数据,流股名称必须来源于streams",
			"patternProperties": {
				"^[A-Z][0-9A-Z]*$": {
					"type": "object",
					"properties": {
						"MIXED_SPEC": {
							"type": "string",
							"enum": ["TP", "TV", "PV"],
							"description": "流股规格类型",
							"enumDescriptions": {
								"TP": "温度压力",
								"TV": "温度汽相分率",
								"PV": "压力汽相分率"
							}
						},
						"pressure": {
							"type": "object",
							"properties": {
								"PRES_VALUE": {
									"type": ["number", "null"],
									"description": "压力值"
								},
								"PRES_UNITS": {
									"type": "string",
									"description": "压力单位,优先使用MPa",
									"default": "MPa"
								}
							}
						},
						"temperature": {
							"type": "object",
							"properties": {
								"TEMP_VALUE": {
									"type": ["number", "null"],
									"description": "温度值"
								},
								"TEMP_UNITS": {
									"type": "string",
									"description": "温度单位,优先使用C",
									"default": "C"
								}
							}
						},
						"vfrac": {
							"type": "object",
							"properties": {
								"VFRAC_VALUE": {
									"type": ["number", "null"],
									"description": "汽相分率值"
								}
							}
						},
						"allOf": [{
							"if": {
								"properties": {
									"MIXED_SPEC": {
										"const": "TP"
									}
								}
							},
							"then": {
								"required": ["pressure", "temperature"]
							}
						},
						{
							"if": {
								"properties": {
									"MIXED_SPEC": {
										"const": "TV"
									}
								}
							},
							"then": {
								"required": ["vfrac", "temperature"]
							}
						},
						{
							"if": {
								"properties": {
									"MIXED_SPEC": {
										"const": "PV"
									}
								}
							},
							"then": {
								"required": ["vfrac", "pressure"]
							}
						}],
						"flow": {
							"type": "object",
							"properties": {
								"FLOWBASE": {
									"type": "string",
									"enum": ["MASS", "MOLE", "VOLUME", "STDVOL"],
									"description": "流量基准"
								},
								"TOTFLOW_VALUE": {
									"type": "number",
									"description": "总流量值"
								},
								"TOTFLOW_UNITS": {
									"type": "string",
									"description": "总流量单位"
								},
								"BASIS": {
									"type": "string",
									"enum": ["MASS-FRAC", "MOLE-FRAC", "MASS-FLOW", "MOLE-FLOW", "STDVOL-FLOW", "STDVOL-FRAC", "MASS-CONC", "MOLE-CONC"],
									"description": "组成基准"
								}
							},
							"required": ["FLOWBASE", "TOTFLOW_VALUE", "TOTFLOW_UNITS", "BASIS"],
							"patternProperties": {
								"^[A-Za-z0-9_-]+$": {
									"type": "object",
									"properties": {
										"FLOW_VALUE": {
											"type": "number",
											"description": "单个组分的取值，不要包含总和取值"
										},
										"FLOW_UNITS": {
											"type": "string",
											"description": "流量单位，组成基准为分率填空字符"
										},
										"FLOW_BASIS": {
											"type": "string",
											"description": "具体组分的组成基准，与BASIS保持一致即可"
										}
									},
									"required": ["FLOW_VALUE", "FLOW_UNITS", "FLOW_BASIS"]
								}
							}
						}
					}
				}
			}
		},
		"reactions": {
			"type": "object",
			"description": "化学反应定义，适用于RadFrac、RBatch、RCSTR、PRlug等反应器，其他反应器无需增加",
			"patternProperties": {
				"^.*$": {
					"type": "object",
					"properties": {
						"type": {
							"type": "string",
							"enum": ["POWERLAW", "LHHW", "REAC-DIST"],
							"description": "反应类型",
							"enumDescriptions": {
								"POWERLAW": "幂律反应",
								"LHHW": "Langmuir-Hinshelwood-Hougen-Watson反应",
								"REAC-DIST": "反应分布"
							}
						},
						"patternProperties": {
							"^\\d+$": {
								"type": "object",
								"properties": {
									"REACTYPE": {
										"type": "string",
										"description": "反应类型"
									},
									"COEF_DATA": {
										"type": "object",
										"description": "反应物系数数据"
									},
									"COEF1_DATA": {
										"type": "object",
										"description": "生成物系数数据"
									}
								}
							}
						}
					}
				}
			}
		},
		"convergence": {
			"type": "object",
			"description": "流程收敛配置",
			"required": ["conv_options", "tear_data"],
			"properties": {
				"conv_options": {
					"type": "object",
					"description": "收敛算法选项",
					"required": ["tear_method", "maxit"],
					"properties": {
						"tear_method": {
							"type": "string",
							"description": "撕裂流收敛方法",
							"enum": ["WEGSTEIN", "NEWTON", "BROYDEN", "DIRECT", "SECANT"],
							"default": "WEGSTEIN",
							"enumDescriptions": {
								"WEGSTEIN": "韦格斯坦法 - 适用于大多数单变量收敛问题，收敛速度稳定",
								"NEWTON": "牛顿法 - 需要导数信息，收敛速度快但计算量较大",
								"BROYDEN": "布罗伊登法 - 准牛顿法，适用于多变量问题",
								"DIRECT": "直接迭代法 - 简单但可能收敛较慢",
								"SECANT": "割线法 - 不需要导数信息的牛顿法近似"
							}
						},
						"maxit": {
							"type": "integer",
							"description": "最大迭代次数",
							"minimum": 1,
							"maximum": 1000,
							"default": 30
						}
					}
				},
				"tear_data": {
					"type": "array",
					"description": "撕裂流数据配置",
					"items": {
						"type": "object",
						"description": "单个撕裂流配置",
						"required": ["tear_stream_name", "tear_stream_tol"],
						"properties": {
							"tear_stream_name": {
								"type": "string",
								"description": "撕裂流股名称（Aspen中的流股标识符）",
								"pattern": "^[A-Za-z0-9_-]+$",
								"minLength": 1
							},
							"tear_stream_tol": {
								"type": "number",
								"description": "该撕裂流收敛容差",
								"minimum": 1e-10,
								"maximum": 1e-2,
								"default": 0.0001
							}
						}
					}
				}
			}
		},
		"blocks_Mixer_data": {
			"type": "object",
			"description": "混合器配置数据",
			"patternProperties": {
				"^[A-Z][0-9A-Z]*$": {
					"type": "object",
					"properties": {
						"SPEC_DATA": {
							"type": "object",
							"properties": {
								"PRES_VALUE": {
									"type": "number",
									"description": "压力值,默认值0.0"
								},
								"PRES_UNITS": {
									"type": "string",
									"description": "压力单位,默认值bar"
								},
								"MAXIT_VALUE": {
									"type": "integer",
									"description": "收敛参数-最大迭代次数,默认值30"
								},
								"TOL_VALUE": {
									"type": "number",
									"description": "收敛参数-容许误差,默认值0.0001"
								}
							},
							"required": ["PRES_VALUE", "PRES_UNITS", "MAXIT_VALUE", "TOL_VALUE"]
						}
					},
					"required": ["SPEC_DATA"]
				}
			}
		},
		"blocks_Valve_data": {
			"type": "object",
			"description": "阀门配置数据",
			"patternProperties": {
				"^[A-Z][0-9A-Z]*$": {
					"type": "object",
					"properties": {
						"JOB_DATA": {
							"type": "object",
							"properties": {
								"MODE": {
									"type": "string",
									"default": "ADIAB-FLASH",
									"description": "压力值计算类型,默认值ADIAB-FLASH，表示指定出口压力下绝热闪蒸"
								},
								"P_OUT_VALUE": {
									"type": "number",
									"description": ""
								},
								"P_OUT_UNITS": {
									"type": "string"
								},
								"FLASH_MAXIT": {
									"type": "integer"
								},
								"FLASH_TOL": {
									"type": "number"
								}
							},
							"required": ["MODE", "P_OUT_VALUE", "P_OUT_UNITS", "FLASH_MAXIT", "FLASH_TOL"]
						}
					},
					"required": ["JOB_DATA"]
				}
			}
		},
		"blocks_Compr_data": {
			"type": "object",
			"description": "压缩机配置数据",
			"patternProperties": {
				"^[A-Z][0-9A-Z]*$": {
					"type": "object",
					"properties": {
						"SPEC_DATA": {
							"type": "object",
							"properties": {
								"MODEL_TYPE": {
									"type": "string",
									"enum": ["COMPRESSOR", "TURBINE"],
									"default": "COMPRESSOR"
								},
								"TYPE": {
									"type": "string",
									"enum": ["ISENTROPIC", "ASME-ISENTROP", "GPSA-ISENTROP", "ASME-POLYTROP", "GPSA-POLYTROP"]
								},
								"PRES_VALUE": {
									"type": "number"
								},
								"PRES_UNITS": {
									"type": "string"
								},
								"OPT_SPEC": {
									"type": "string",
									"enum": ["PRES", "DELP", "PRATIO", "POWER", "USE-CURVE"],
									"default": "PRES"
								}
							},
							"required": ["MODEL_TYPE", "TYPE", "PRES_VALUE", "PRES_UNITS", "OPT_SPEC"]
						}
					},
					"required": ["SPEC_DATA"]
				}
			}
		},
		"blocks_Heater_data": {
			"type": "object",
			"description": "加热器/冷却器配置数据",
			"patternProperties": {
				"^[A-Z][0-9A-Z]*$": {
					"type": "object",
					"properties": {
						"SPEC_DATA": {
							"type": "object",
							"properties": {
								"SPEC_OPT": {
									"type": "string",
									"enum": ["TP", "PD", "TD", "TV", "DTD", "PDT", "PV", "DTV", "PDEGSUB", "PDEGSUP", "DDPPARM", "TDPPARM", "DTDPPARM", "VDPPARM", "DEGSUPDPPARM", "DEGSUBDPPARM"],
									"description": "规格选项",
									"enumDescriptions": {
										"TP": "温度压力",
										"PD": "负荷压力",
										"TD": "温度负荷",
										"TV": "温度汽相分率",
										"DTD": "负荷温度变化",
										"PDT": "压力温度变化",
										"PV": "压力汽相分率",
										"DTV": "温度变化汽相分率",
										"PDEGSUB": "压力过冷度",
										"PDEGSUP": "压力过热度",
										"DDPPARM": "负荷压降关联式参数",
										"TDPPARM": "温度压降关联式参数",
										"DTDPPARM": "温度变化压降关联式参数",
										"VDPPARM": "汽相分率压降关联式参数",
										"DEGSUPDPPARM": "过热度压降关联式参数",
										"DEGSUBDPPARM": "过冷度压降关联式参数"
									}
								},
								"TEMP_VALUE": {
									"type": "number",
									"description": "规定-温度"
								},
								"TEMP_UNITS": {
									"type": "string",
									"enum": ["C", "K", "F", "R"],
									"description": "规定-温度单位"
								},
								"DELT_VALUE": {
									"type": "number",
									"description": "规定-温度变化"
								},
								"DELT_UNITS": {
									"type": "string",
									"enum": ["C", "K", "F", "R", "DELTA-C", "DELTA-K", "DELTA-F", "DELTA-R"],
									"description": "规定-温度变化单位"
								},
								"DEGSUP_VALUE": {
									"type": "number",
									"description": "规定-过热度"
								},
								"DEGSUP_UNITS": {
									"type": "string",
									"enum": ["C", "K", "F", "R", "DELTA-C", "DELTA-K", "DELTA-F", "DELTA-R"],
									"description": "规定-过热度单位"
								},
								"DEGSUB_VALUE": {
									"type": "number",
									"description": "规定-过冷度"
								},
								"DEGSUB_UNITS": {
									"type": "string",
									"enum": ["C", "K", "F", "R", "DELTA-C", "DELTA-K", "DELTA-F", "DELTA-R"],
									"description": "规定-过冷度单位"
								},
								"VFRAC_VALUE": {
									"type": "number",
									"minimum": 0,
									"maximum": 1,
									"description": "规定-汽相分率"
								},
								"PRES_VALUE": {
									"type": "number",
									"description": "规定-压力"
								},
								"PRES_UNITS": {
									"type": "string",
									"description": "规定-压力单位,默认值bar"
								},
								"DUTY_VALUE": {
									"type": "number",
									"description": "规定-负载"
								},
								"DUTY_UNITS": {
									"type": "string",
									"description": "规定-负载单位,默认值kW"
								}
							},
							"required": ["SPEC_OPT"],
							"additionalProperties": false,
							"allOf": [{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "TP"
										}
									}
								},
								"then": {
									"required": ["TEMP_VALUE", "TEMP_UNITS", "PRES_VALUE", "PRES_UNITS"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "DP"
										}
									}
								},
								"then": {
									"required": ["DUTY_VALUE", "DUTY_UNITS", "PRES_VALUE", "PRES_UNITS"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "TD"
										}
									}
								},
								"then": {
									"required": ["TEMP_VALUE", "TEMP_UNITS", "DUTY_VALUE", "DUTY_UNITS"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "TV"
										}
									}
								},
								"then": {
									"required": ["TEMP_VALUE", "TEMP_UNITS", "VFRAC_VALUE"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "DTD"
										}
									}
								},
								"then": {
									"required": ["DUTY_VALUE", "DUTY_UNITS", "DELT_VALUE", "DELT_UNITS"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "PDT"
										}
									}
								},
								"then": {
									"required": ["PRES_VALUE", "PRES_UNITS", "DELT_VALUE", "DELT_UNITS"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "PV"
										}
									}
								},
								"then": {
									"required": ["PRES_VALUE", "PRES_UNITS", "VFRAC_VALUE"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "DTV"
										}
									}
								},
								"then": {
									"required": ["DELT_VALUE", "DELT_UNITS", "VFRAC_VALUE"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "PDEGSUB"
										}
									}
								},
								"then": {
									"required": ["PRES_VALUE", "PRES_UNITS", "DEGSUB_VALUE", "DEGSUB_UNITS"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "PDEGSUP"
										}
									}
								},
								"then": {
									"required": ["PRES_VALUE", "PRES_UNITS", "DEGSUP_VALUE", "DEGSUP_UNITS"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "DDPPARM"
										}
									}
								},
								"then": {
									"required": ["DUTY_VALUE", "DUTY_UNITS", "PRES_VALUE", "PRES_UNITS"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "TDPPARM"
										}
									}
								},
								"then": {
									"required": ["TEMP_VALUE", "TEMP_UNITS", "PRES_VALUE", "PRES_UNITS"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "DTDPPARM"
										}
									}
								},
								"then": {
									"required": ["DELT_VALUE", "DELT_UNITS", "PRES_VALUE", "PRES_UNITS"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "VDPPARM"
										}
									}
								},
								"then": {
									"required": ["VFRAC_VALUE", "PRES_VALUE", "PRES_UNITS"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "DEGSUPDPPARM"
										}
									}
								},
								"then": {
									"required": ["DEGSUP_VALUE", "DEGSUP_UNITS", "PRES_VALUE", "PRES_UNITS"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "DEGSUBDPPARM"
										}
									}
								},
								"then": {
									"required": ["DEGSUB_VALUE", "DEGSUB_UNITS", "PRES_VALUE", "PRES_UNITS"]
								}
							}]
						}
					},
					"required": ["SPEC_DATA"],
					"additionalProperties": false
				}
			},
			"additionalProperties": false
		},
		"blocks_Pump_data": {
			"type": "object",
			"description": "泵配置数据",
			"patternProperties": {
				"^[A-Z][0-9A-Z]*$": {
					"type": "object",
					"properties": {
						"SPEC_DATA": {
							"type": "object",
							"properties": {
								"PUMP_TYPE": {
									"type": "string"
								},
								"PRES_VALUE": {
									"type": "number"
								},
								"PRES_UNITS": {
									"type": "string"
								},
								"OPT_SPEC": {
									"type": "string"
								}
							},
							"required": ["PUMP_TYPE", "PRES_VALUE", "PRES_UNITS", "OPT_SPEC"]
						}
					},
					"required": ["SPEC_DATA"]
				}
			}
		},
		"blocks_RStoic_data": {
			"type": "object",
			"description": "化学计量反应器配置数据",
			"patternProperties": {
				"^[A-Za-z0-9_]+$": {
					"type": "object",
					"properties": {
						"SPEC_DATA": {
							"type": "object",
							"properties": {
								"SPEC_OPT": {
									"type": "string",
									"enum": ["TP", "DP", "TD", "TV", "PV", "DTV"],
									"description": "规格选项",
									"enumDescriptions": {
										"TP": "温度压力",
										"DP": "负载压力",
										"TD": "温度负载",
										"TV": "温度汽相分率",
										"PV": "压力汽相分率",
										"DTV": "温度变化汽相分率"
									}
								},
								"TEMP_VALUE": {
									"type": "number",
									"description": "规定-温度",
									"minimum": -273.15
								},
								"TEMP_UNITS": {
									"type": "string",
									"enum": ["C", "K", "F", "R"],
									"description": "规定-温度单位"
								},
								"VFRAC_VALUE": {
									"type": "number",
									"minimum": 0,
									"maximum": 1,
									"description": "规定-汽相分率"
								},
								"PRES_VALUE": {
									"type": "number",
									"description": "规定-压力",
									"minimum": 0
								},
								"PRES_UNITS": {
									"type": "string",
									"description": "规定-压力单位"
								},
								"DUTY_VALUE": {
									"type": "number",
									"description": "规定-负载"
								},
								"DUTY_UNITS": {
									"type": "string",
									"description": "规定-负载单位"
								}
							},
							"required": ["SPEC_OPT"],
							"additionalProperties": false,
							"allOf": [{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "TP"
										}
									}
								},
								"then": {
									"required": ["TEMP_VALUE", "TEMP_UNITS", "PRES_VALUE", "PRES_UNITS"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "DP"
										}
									}
								},
								"then": {
									"required": ["DUTY_VALUE", "DUTY_UNITS", "PRES_VALUE", "PRES_UNITS"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "TD"
										}
									}
								},
								"then": {
									"required": ["TEMP_VALUE", "TEMP_UNITS", "DUTY_VALUE", "DUTY_UNITS"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "TV"
										}
									}
								},
								"then": {
									"required": ["TEMP_VALUE", "TEMP_UNITS", "VFRAC_VALUE"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "PV"
										}
									}
								},
								"then": {
									"required": ["PRES_VALUE", "PRES_UNITS", "VFRAC_VALUE"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "DTV"
										}
									}
								},
								"then": {
									"required": ["DUTY_VALUE", "DUTY_UNITS", "VFRAC_VALUE"]
								}
							}]
						},
						"REAC_DATA": {
							"type": "object",
							"properties": {
								"SERIES": {
									"type": "string",
									"description": "反应是否连续发生",
									"enum": ["", "YES"],
									"default": ""
								},
								"REAC": {
									"type": "array",
									"description": "反应定义数组",
									"items": {
										"type": "object",
										"properties": {
											"KEY_SSID": {
												"type": "string",
												"description": "反应步骤ID",
												"pattern": "^[0-9]+$"
											},
											"CONV": {
												"type": "number",
												"description": "转化率",
												"minimum": 0,
												"maximum": 1
											},
											"KEY_CID": {
												"type": "string",
												"description": "关键组分ID",
												"pattern": "^[A-Za-z0-9_-]+$"
											},
											"OPT_EXT_CONV": {
												"type": "string",
												"description": "转化率/反应程度选项",
												"enum": ["CONVERSION", "EXTENT"]
											},
											"EXTENT": {
												"type": ["number", "null"],
												"description": "反应程度",
												"minimum": 0
											},
											"COEF_DATA": {
												"type": "object",
												"description": "反应物化学计量系数，同一组分不能同时作为反应物和生成产物，所选组分必须在components中包含",
												"patternProperties": {
													"^[A-Za-z0-9_-]+$": {
														"type": "number",
														"description": "组分化学计量系数（反应物为负值）"
													}
												},
												"additionalProperties": false
											},
											"COEF1_DATA": {
												"type": "object",
												"description": "生成物化学计量系数",
												"patternProperties": {
													"^[A-Za-z0-9_-]+$": {
														"type": "number",
														"description": "组分化学计量系数（生成物为正值），同一组分不能同时作为反应物和生成产物，所选组分必须在components中包含"
													}
												},
												"additionalProperties": false
											}
										},
										"required": ["KEY_SSID", "CONV", "KEY_CID", "OPT_EXT_CONV", "COEF_DATA", "COEF1_DATA"],
										"additionalProperties": false
									},
									"minItems": 1
								}
							},
							"required": ["REAC"],
							"additionalProperties": false
						}
					},
					"required": ["SPEC_DATA", "REAC_DATA"],
					"additionalProperties": false
				}
			},
			"additionalProperties": false
		},
		"blocks_RPlug_data": {
			"type": "object",
			"description": "活塞流反应器配置数据",
			"patternProperties": {
				"^[A-Z][0-9A-Z]*$": {
					"type": "object",
					"properties": {
						"SPEC_DATA": {
							"type": "object",
							"properties": {
								"TYPE": {
									"type": "string"
								},
								"OPT_TSPEC": {
									"type": "string"
								},
								"REAC_TEMP": {
									"type": "number"
								}
							},
							"required": ["TYPE", "OPT_TSPEC", "REAC_TEMP"]
						},
						"CONFIG_DATA": {
							"type": "object",
							"properties": {
								"PHASE": {
									"type": ["string", "null"]
								},
								"CHK_NTUBE": {
									"type": "string"
								},
								"NTUBE": {
									"type": "integer"
								},
								"LENGTH": {
									"type": "number"
								},
								"DIAM": {
									"type": "number"
								}
							},
							"required": ["PHASE", "CHK_NTUBE", "LENGTH", "DIAM"]
						},
						"REAC_DATA": {
							"type": "object",
							"properties": {
								"REACSYS": {
									"type": "string"
								},
								"RXN_ID": {
									"type": "object"
								}
							},
							"required": ["REACSYS", "RXN_ID"]
						},
						"PRES_DATA": {
							"type": "object",
							"properties": {
								"OPT_PDROP": {
									"type": ["string", "null"]
								},
								"PRES_VALUE": {
									"type": "number"
								},
								"PRES_UNITS": {
									"type": "string"
								},
								"DP_FCOR": {
									"type": "string"
								},
								"DP_MULT": {
									"type": "number"
								}
							},
							"required": ["PRES_VALUE", "PRES_UNITS", "DP_FCOR", "DP_MULT"]
						},
						"CAT_DATA": {
							"type": "object",
							"properties": {
								"CAT_PRESENT": {
									"type": "string"
								},
								"IGN_CAT_VOL": {
									"type": "string"
								},
								"BED_VOIDAGE": {
									"type": "number"
								},
								"CATWT_VALUE": {
									"type": "number"
								},
								"CATWT_UNITS": {
									"type": "string"
								},
								"CAT_RHO_VALUE": {
									"type": "number"
								},
								"CAT_RHO_UNITS": {
									"type": "string"
								}
							},
							"required": ["CAT_PRESENT", "IGN_CAT_VOL", "BED_VOIDAGE"]
						}
					},
					"required": ["SPEC_DATA", "CONFIG_DATA", "REAC_DATA", "PRES_DATA", "CAT_DATA"]
				}
			}
		},
		"blocks_Flash2_data": {
			"type": "object",
			"description": "闪蒸罐配置数据",
			"patternProperties": {
				"^[A-Z][0-9A-Z]*$": {
					"type": "object",
					"properties": {
						"SPEC_DATA": {
							"type": "object",
							"properties": {
								"SPEC_OPT": {
									"type": "string",
									"enum": ["PD", "TD", "TP", "TV", "PV"],
									"description": "规格选项",
									"enumDescriptions": {
										"PD": "负荷压力",
										"TD": "温度负荷",
										"TP": "温度压力",
										"TV": "温度汽相分率",
										"PV": "压力汽相分率"
									}
								},
								"TEMP_VALUE": {
									"type": "number",
									"description": "规定-温度"
								},
								"TEMP_UNITS": {
									"type": "string",
									"enum": ["C", "K", "F", "R"],
									"description": "规定-温度单位",
									"default": "C"
								},
								"VFRAC_VALUE": {
									"type": "number",
									"minimum": 0,
									"maximum": 1,
									"description": "规定-汽相分率"
								},
								"PRES_VALUE": {
									"type": "number",
									"description": "规定-压力"
								},
								"PRES_UNITS": {
									"type": "string",
									"description": "规定-压力单位",
									"default": "Mpa"
								},
								"DUTY_VALUE": {
									"type": "number",
									"description": "规定-负荷"
								},
								"DUTY_UNITS": {
									"type": "string",
									"description": "规定-负荷单位",
									"default": "kW"
								}
							},
							"required": ["SPEC_OPT"],
							"additionalProperties": false,
							"allOf": [{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "PD"
										}
									}
								},
								"then": {
									"required": ["DUTY_VALUE", "DUTY_UNITS", "PRES_VALUE", "PRES_UNITS"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "TD"
										}
									}
								},
								"then": {
									"required": ["TEMP_VALUE", "TEMP_UNITS", "DUTY_VALUE", "DUTY_UNITS"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "TP"
										}
									}
								},
								"then": {
									"required": ["TEMP_VALUE", "TEMP_UNITS", "PRES_VALUE", "PRES_UNITS"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "TV"
										}
									}
								},
								"then": {
									"required": ["TEMP_VALUE", "TEMP_UNITS", "VFRAC_VALUE"]
								}
							},
							{
								"if": {
									"properties": {
										"SPEC_OPT": {
											"const": "PV"
										}
									}
								},
								"then": {
									"required": ["PRES_VALUE", "PRES_UNITS", "VFRAC_VALUE"]
								}
							}]
						}
					},
					"required": ["SPEC_DATA"],
					"additionalProperties": false
				}
			},
			"additionalProperties": false
		},
		"blocks_Decanter_data": {
			"type": "object",
			"patternProperties": {
				"^[A-Za-z][A-Za-z0-9_]*$": {
					"type": "object",
					"properties": {
						"SPEC_DATA": {
							"type": "object",
							"properties": {
								"TEMP_VALUE": {
									"type": "number",
									"description": "Temperaturevalue"
								},
								"TEMP_UNITS": {
									"type": "string",
									"description": "Temperatureunits",
									"enum": ["C", "F", "K"]
								},
								"PRES_VALUE": {
									"type": "number",
									"minimum": 0,
									"description": "Pressurevalue"
								},
								"PRES_UNITS": {
									"type": "string",
									"description": "Pressureunits",
									"enum": ["bar", "psi", "kPa", "MPa"]
								},
								"DUTY_VALUE": {
									"type": "number",
									"description": "Dutyvalue"
								},
								"DUTY_UNITS": {
									"type": "string",
									"description": "Dutyunits",
									"enum": ["kW", "MW", "W"]
								},
								"L2_CUTOFF": {
									"type": "number",
									"minimum": 0,
									"maximum": 1,
									"description": "Liquidlevelcutofffraction"
								},
								"L2_COMPS": {
									"type": "array",
									"items": {
										"type": "string"
									},
									"minItems": 1,
									"description": "Componentsforliquidlevel2"
								}
							},
							"required": ["PRES_VALUE", "PRES_UNITS", "L2_CUTOFF", "L2_COMPS"],
							"allOf": [
								{
									"anyOf": [
										{
											"required": ["DUTY_VALUE", "DUTY_UNITS"],
											"not": {
												"required": ["TEMP_VALUE", "TEMP_UNITS"]
											}
										},
										{
											"required": ["TEMP_VALUE", "TEMP_UNITS"],
											"not": {
												"required": ["DUTY_VALUE", "DUTY_UNITS"]
											}
										}
									]
								}
							],
							"additionalProperties": false
						}
					},
					"required": ["SPEC_DATA"],
					"additionalProperties": false
				}
			},
			"additionalProperties": false
		},
		"blocks_Sep_data": {
			"type": "object",
			"description": "组分分离器配置数据",
			"patternProperties": {
				"^[A-Z][0-9A-Z]*$": {
					"type": "object",
					"properties": {
						"SPEC_DATA": {
							"type": "object",
							"additionalProperties": {
								"type": "array",
								"items": {
									"type": "object",
									"properties": {
										"COMP_ID": {
											"type": "string"
										},
										"FLOWBASIS": {
											"type": "string"
										},
										"FRACS": {
											"type": "number"
										}
									},
									"required": ["COMP_ID", "FLOWBASIS"]
								}
							}
						}
					},
					"required": ["SPEC_DATA"]
				}
			}
		},
		"blocks_Sep2_data": {
			"type": "object",
			"description": "两出口组分分离器配置数据",
			"patternProperties": {
				"^[A-Z][0-9A-Z]*$": {
					"type": "object",
					"properties": {
						"SPEC_DATA": {
							"type": "object",
							"description": "分离规格数据，键为sep2在block_connections中的出口流股编号",
							"patternProperties": {
								"^[A-Z]+-[0-9]+$": {
									"type": "array",
									"description": "该出口流股的组分分离规格数组",
									"items": {
										"type": "object",
										"properties": {
											"COMP_ID": {
												"type": "string",
												"description": "组分标识符，对应components中的cid"
											},
											"FLOWBASIS": {
												"type": "string",
												"enum": ["MASS", "MOLE", "VOLUME", "STDVOL"],
												"description": "流量基准"
											},
											"FRACS": {
												"type": "number",
												"description": "分流分率，用于循环的出口流股，产品输出类型的出口流程无需设置，为每个出口流股指定的分离规定数量必须等于进料流股中的组分数。"
											}
										},
										"required": ["COMP_ID", "FLOWBASIS"],
										"additionalProperties": false
									},
									"minItems": 1
								}
							},
							"additionalProperties": false,
							"minProperties": 1
						}
					},
					"required": ["SPEC_DATA"],
					"additionalProperties": false
				}
			},
			"additionalProperties": false
		},
		"blocks_DSTWU_data": {
			"type": "object",
			"description": "DSTWU精馏塔简捷设计模块配置数据",
			"patternProperties": {
			  "^[A-Z][0-9A-Z]*$": {
				"type": "object",
				"description": "DSTWU模块实例配置，键为DSTWU模块在block_connections中的ID",
				"properties": {
				  "SPEC_DATA": {
					"type": "object",
					"description": "DSTWU模块设计规格数据",
					"properties": {
					  "OPT_NTRR": {
						"type": "string",
						"enum": ["RR", "NSTAGE"],
						"description": "设计选项：RR-指定回流比，NSTAGE-指定塔板数"
					  },
					  "RR": {
						"type": "number",
						"description": "回流比（当OPT_NTRR为RR时有效），大于0表示期望的回流比，小于-1表示期望的回流比为指定数值乘以最小回流比"
					  },
					  "NSTAGE": {
						"type": "number",
						"description": "回流比（当OPT_NTRR为NSTAGE时有效），理论塔板数，包括冷凝器和再沸器，取值2-500"
					  },
					  "PTOP": {
						"type": "number",
						"minimum": 0,
						"description": "塔顶压力"
					  },
					  "PTOP_UNITS": {
						"type": "string",
						"enum": ["bar", "atm", "MPa", "kPa", "psi"],
						"description": "塔顶压力单位"
					  },
					  "PBOT": {
						"type": "number",
						"minimum": 0,
						"description": "塔底压力"
					  },
					  "PBOT_UNITS": {
						"type": "string",
						"enum": ["bar", "atm", "MPa", "kPa", "psi"],
						"description": "塔底压力单位"
					  },
					  "OPT_RDV": {
						"type": "string",
						"enum": ["LIQUID", "VAPOR","VAPLIQ"],
					    "enumDescriptions": {
							"LIQUID": "全凝器",
							"VAPOR": "产品全为汽相馏出物的部分冷凝器",
							"VAPLIQ": "产品全为汽液两相馏出物的部分冷凝器"
						},
						"description": "冷凝器规范"
					  },
					  "RDV": {
						"type": "number",
						"description": "馏出物气相分率（当OPT_RDV为LIQUID时设为0，当OPT_RDV为VAPOR时设为1,当OPT_RDV为VAPLIQ时自定义(范围0-1)）"
					  },
					  "LIGHTKEY": {
						"type": "string",
						"description": "轻关键组分标识符，对应components中的cid"
					  },
					  "RECOVL": {
						"type": "number",
						"minimum": 0,
						"maximum": 1,
						"description": "馏出液轻关键组分回收率（馏出物中轻关键组分摩尔数/原料中轻关键组分摩尔数）"
					  },
					  "HEAVYKEY": {
						"type": "string",
						"description": "重关键组分标识符，对应components中的cid"
					  },
					  "RECOVH": {
						"type": "number",
						"minimum": 0,
						"maximum": 1,
						"description": "馏出液重关键组分回收率（馏出物中重关键组分摩尔数/原料中重关键组分摩尔数）"
					  }
					},
					"required": [
					  "OPT_NTRR",
					  "PTOP",
					  "PTOP_UNITS",
					  "PBOT",
					  "PBOT_UNITS",
					  "OPT_RDV",
					  "LIGHTKEY",
					  "RECOVL",
					  "HEAVYKEY",
					  "RECOVH"
					],
					"dependentRequired": {
					  "OPT_NTRR": ["RR"],
					  "OPT_RDV": ["RDV"]
					},
					"additionalProperties": false
				  }
				},
				"required": ["SPEC_DATA"],
				"additionalProperties": false
			  }
			},
			"additionalProperties": false
		  },
		"blocks_RadFrac_data": {
			"type": "object",
			"description": "精馏塔配置数据",
			"required": ["CONFIG_DATA", "FEED_STAGE_DATA", "PROD_STAGE_DATA", "PRES_DATA", "CONDENSER_DATA"],
			"patternProperties": {
				"^[A-Z][0-9A-Z]*$": {
					"type": "object",
					"properties": {
						"CONFIG_DATA": {
							"type": "object",
							"properties": {
								"CALC_MODE": {
									"type": "string",
									"enum": ["EQUILIBRIUM", "RIG-RATE"],
									"enumDescriptions": {
										"EQUILIBRIUM": "平衡",
										"RIG-RATE": "速率模式"
									},
									"description": "计算类型，默认平衡，传质率计算需要启用速率模式",
									"default": "EQUILIBRIUM"
								},
								"NSTAGE": {
									"type": "integer",
									"description": "塔板数",
									"minimum": 2,
									"maximum": 9999
								},
								"CONDENSER": {
									"type": "string",
									"enum": ["TOTAL", "PARTIAL-V", "PARTIAL-V-L", "NONE"],
									"description": "冷凝器类型",
									"enumDescriptions": {
										"TOTAL": "全凝器，不允许block_connections中类型为RadFrac的block配置的馏出物流股指定相=汽相或全汽相VD(OUT),必须指定液相馏出物流股LD(OUT)",
										"PARTIAL-V": "部分汽相，不允许block_connections中类型为RadFrac的block配置的馏出物流股指定液相LD(OUT)",
										"PARTIAL-V-L": "部分汽相-液相,不允许block_connections中类型为RadFrac的block配置的馏出物流股指定相=汽相或全汽相VD(OUT),必须指定液相馏出物流股LD(OUT)",
										"NONE": "无，不允许流股配置指定液相馏出物流股LD(OUT)，可以指定气相馏出物流股VD(OUT)"
									}
								},
								"REBOILER": {
									"type": "string",
									"enum": ["KETTLE", "THERMOSYPHON", "NONE"],
									"description": "再沸器类型",
									"enumDescriptions": {
										"KETTLE": "釜式",
										"THERMOSYPHON": "热吸虹",
										"NONE": "无"
									}
								},
								"CONV_METH": {
									"type": "string",
									"enum": ["STANDARD", "NONIDEAL", "AZEOTROPIC", "CRYOGENIC", "PETROLEUM", "OTHERS"],
									"description": "收敛方法",
									"enumDescriptions": {
										"STANDARD": "标准",
										"NONIDEAL": "非常不理想的液相",
										"AZEOTROPIC": "共沸",
										"CRYOGENIC": "深度冷冻",
										"PETROLEUM": "石油/宽沸程",
										"OTHERS": "自定义"
									}
								},
								"NO_PHASE": {
									"type": "integer",
									"description": "相数",
									"minimum": 1,
									"maximum": 3
								},
								"BLKOPFREWAT": {
									"type": "string",
									"enum": ["YES", "NO", "DIRTY"],
									"description": "是否忽略水相"
								},
								"OP_SPEC": {
									"type": "array",
									"description": "操作规范",
									"items": {
										"type": "object",
										"oneOf": [{
											"type": "object",
											"properties": {
												"BASIS_RR_VALUE": {
													"type": "number",
													"description": "回流比数值"
												},
												"BASIS_RR_BASIS": {
													"type": "string",
													"enum": ["MOLE", "MASS"],
													"description": "回流比基准"
												},
												"specType": {
													"const": "RR"
												}
											},
											"required": ["BASIS_RR_VALUE", "BASIS_RR_BASIS"],
											"additionalProperties": false
										},
										{
											"type": "object",
											"properties": {
												"BASIS_D_VALUE": {
													"type": "number",
													"description": "馏出物流量数值"
												},
												"BASIS_D_UNITS": {
													"type": "string",
													"enum": ["kg/hr", "kmol/hr", "m3/hr", "lb/hr"],
													"description": "馏出物流量单位"
												},
												"BASIS_D_BASIS": {
													"type": "string",
													"enum": ["MOLE", "MASS"],
													"description": "馏出物流量基准"
												},
												"specType": {
													"const": "D"
												}
											},
											"required": ["BASIS_D_VALUE", "BASIS_D_UNITS", "BASIS_D_BASIS"],
											"additionalProperties": false
										},
										{
											"type": "object",
											"properties": {
												"BASIS_L1_VALUE": {
													"type": "number",
													"description": "回流速率数值"
												},
												"BASIS_L1_UNITS": {
													"type": "string",
													"enum": ["kg/hr", "kmol/hr", "m3/hr", "lb/hr"],
													"description": "回流速率单位"
												},
												"BASIS_L1_BASIS": {
													"type": "string",
													"enum": ["MOLE", "MASS"],
													"description": "回流速率基准"
												},
												"specType": {
													"const": "L1"
												}
											},
											"required": ["BASIS_L1_VALUE", "BASIS_L1_UNITS", "BASIS_L1_BASIS"],
											"additionalProperties": false
										},
										{
											"type": "object",
											"properties": {
												"BASIS_B_VALUE": {
													"type": "number",
													"description": "塔底物流率数值"
												},
												"BASIS_B_UNITS": {
													"type": "string",
													"enum": ["kg/hr", "kmol/hr", "m3/hr", "lb/hr"],
													"description": "塔底物流率单位"
												},
												"BASIS_B_BASIS": {
													"type": "string",
													"enum": ["MOLE", "MASS"],
													"description": "塔底物流率基准"
												},
												"specType": {
													"const": "B"
												}
											},
											"required": ["BASIS_B_VALUE", "BASIS_B_UNITS", "BASIS_B_BASIS"],
											"additionalProperties": false
										},
										{
											"type": "object",
											"properties": {
												"BASIS_VN_VALUE": {
													"type": "number",
													"description": "再沸蒸汽流速数值"
												},
												"BASIS_VN_UNITS": {
													"type": "string",
													"enum": ["kg/hr", "kmol/hr", "m3/hr", "lb/hr"],
													"description": "再沸蒸汽流速单位"
												},
												"BASIS_VN_BASIS": {
													"type": "string",
													"enum": ["MOLE", "MASS"],
													"description": "再沸蒸汽流速基准"
												},
												"specType": {
													"const": "VN"
												}
											},
											"required": ["BASIS_VN_VALUE", "BASIS_VN_UNITS", "BASIS_VN_BASIS"],
											"additionalProperties": false
										},
										{
											"type": "object",
											"properties": {
												"BASIS_BR_VALUE": {
													"type": "number",
													"description": "再沸比数值"
												},
												"BASIS_BR_BASIS": {
													"type": "string",
													"enum": ["MOLE", "MASS"],
													"description": "再沸比基准"
												},
												"specType": {
													"const": "BR"
												}
											},
											"required": ["BASIS_BR_VALUE", "BASIS_BR_BASIS"],
											"additionalProperties": false
										},
										{
											"type": "object",
											"properties": {
												"Q1_VALUE": {
													"type": "number",
													"description": "冷凝器负荷数值"
												},
												"Q1_UNITS": {
													"type": "string",
													"enum": ["kW", "MW", "W"],
													"description": "冷凝器负荷单位"
												},
												"specType": {
													"const": "Q1"
												}
											},
											"required": ["Q1_VALUE", "Q1_UNITS"],
											"additionalProperties": false
										},
										{
											"type": "object",
											"properties": {
												"QN_VALUE": {
													"type": "number",
													"description": "再沸器负荷数值"
												},
												"QN_UNITS": {
													"type": "string",
													"enum": ["kW", "MW", "W"],
													"description": "再沸器负荷单位"
												},
												"specType": {
													"const": "QN"
												}
											},
											"required": ["QN_VALUE", "QN_UNITS"],
											"additionalProperties": false
										},
										{
											"type": "object",
											"properties": {
												"DF_VALUE": {
													"type": "number",
													"description": "馏出物进料比数值"
												},
												"DF_BASIS": {
													"type": "string",
													"enum": ["MOLE", "MASS"],
													"description": "馏出物进料比基准"
												},
												"specType": {
													"const": "D:F"
												}
											},
											"required": ["DF_VALUE", "DF_BASIS"],
											"additionalProperties": false
										},
										{
											"type": "object",
											"properties": {
												"BF_VALUE": {
													"type": "number",
													"description": "塔底采出与进料比数值"
												},
												"BF_BASIS": {
													"type": "string",
													"enum": ["MOLE", "MASS"],
													"description": "塔底采出与进料比基准，注意取值是BF_VALUE，不是BASIS_BF_VALUE"
												},
												"specType": {
													"const": "B:F"
												}
											},
											"required": ["BF_VALUE", "BF_BASIS"],
											"additionalProperties": false
										}]
									},
									"minItems": 1,
									"maxItems": 2,
									"allOf": [{
										"if": {
											"properties": {
												"length": {
													"const": 2
												}
											}
										},
										"then": {
											"anyOf": [{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "D"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "L1"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "D"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "VN"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "D"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "RR"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "D"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "BR"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "D"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "Q1"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "D"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "QN"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "L1"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "D"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "VN"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "D"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "RR"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "D"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "BR"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "D"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "Q1"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "D"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "QN"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "D"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "B"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "L1"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "B"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "VN"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "B"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "RR"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "B"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "BR"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "B"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "Q1"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "B"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "QN"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "L1"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "B"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "VN"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "B"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "RR"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "B"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "BR"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "B"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "Q1"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "B"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "QN"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "B"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "D:F"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "L1"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "D:F"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "VN"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "D:F"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "RR"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "D:F"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "BR"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "D:F"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "Q1"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "D:F"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "QN"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "L1"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "D:F"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "VN"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "D:F"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "RR"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "D:F"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "BR"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "D:F"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "Q1"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "D:F"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "QN"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "D:F"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "B:F"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "L1"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "B:F"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "VN"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "B:F"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "RR"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "B:F"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "BR"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "B:F"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "Q1"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "B:F"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "QN"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "L1"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "B:F"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "VN"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "B:F"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "RR"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "B:F"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "BR"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "B:F"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "Q1"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "B:F"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "QN"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "B:F"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "L1"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "RR"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "L1"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "BR"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "RR"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "L1"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "BR"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "L1"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "VN"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "RR"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "VN"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "BR"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "RR"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "VN"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "BR"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "VN"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "RR"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "BR"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "RR"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "Q1"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "RR"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "QN"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "BR"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "RR"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "Q1"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "RR"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "QN"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "RR"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "BR"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "Q1"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "BR"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "QN"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "Q1"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "BR"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "QN"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "BR"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "Q1"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "QN"
															}
														}
													}
												}
											},
											{
												"properties": {
													"0": {
														"properties": {
															"specType": {
																"const": "QN"
															}
														}
													},
													"1": {
														"properties": {
															"specType": {
																"const": "Q1"
															}
														}
													}
												}
											}]
										}
									}]
								}
							},
							"required": ["CALC_MODE", "NSTAGE", "CONDENSER", "REBOILER", "CONV_METH", "NO_PHASE", "BLKOPFREWAT", "OP_SPEC"],
							"additionalProperties": false
						},
						"FEED_STAGE_DATA": {
							"type": "array",
							"description": "进料塔板数据",
							"items": {
								"type": "object",
								"properties": {
									"FEED_STAGE": {
										"type": "string",
										"description": "进料流股名称，表示RadFrac设备的入口物流名称"
									},
									"FEED_STAGE_VALUE": {
										"type": "integer",
										"description": "进料塔板位置，比如1表示第1块塔板，当再沸器=无或再沸器负荷=0时，必须指定底端塔板进料，塔板上进料时等于塔板数；塔板上方、汽相或液相进料时等于塔板数+1",
										"minimum": 1
									},
									"FEED_CONVEN": {
										"type": "string",
										"enum": ["ABOVE-STAGE", "ON-STAGE", "BELOW-STAGE"],
										"description": "进料位置，当再沸器=无或再沸器负荷=0时，必须指定底端塔板进料，塔板上进料时等于塔板数；塔板上方、汽相或液相进料时等于塔板数+1"
									}
								},
								"required": ["FEED_STAGE", "FEED_STAGE_VALUE", "FEED_CONVEN"],
								"additionalProperties": false
							},
							"minItems": 1
						},
						"PROD_STAGE_DATA": {
							"type": "array",
							"description": "产品塔板数据",
							"items": {
								"type": "object",
								"properties": {
									"PROD_STAGE": {
										"type": "string",
										"description": "产品流股名称，表示RadFrac设备的产品出口物流名称"
									},
									"PROD_STAGE_VALUE": {
										"type": "integer",
										"description": "产品塔板数值",
										"minimum": 1
									},
									"PROD_PHASE": {
										"type": "string",
										"enum": ["L", "V"],
										"description": "产品相态"
									}
								},
								"required": ["PROD_STAGE", "PROD_STAGE_VALUE", "PROD_PHASE"],
								"additionalProperties": false
							},
							"minItems": 1
						},
						"PRES_DATA": {
							"type": "object",
							"description": "压力数据配置",
							"oneOf": [
							  {
								"type": "object",
								"properties": {
								  "VIEW_PRES": {
									"type": "string",
									"enum": ["PROFILE"],
									"default": "PROFILE",
									"description": "压力视图类型：PROFILE - 塔板详细压力分布"
								  },
								  "STAGE_PRES": {
									"type": "array",
									"description": "塔板压力数据（按塔板分布）",
									"items": {
									  "type": "object",
									  "properties": {
										"PRES_STAGE": {
										  "type": "string",
										  "description": "压力塔板位置，如 '2' 表示第2块塔板"
										},
										"PRES_VALUE": {
										  "type": "number",
										  "minimum": 0,
										  "description": "塔板压力数值"
										},
										"PRES_UNITS": {
										  "type": "string",
										  "enum": ["atm", "bar", "kPa", "MPa", "psi"],
										  "description": "塔板压力单位"
										}
									  },
									  "required": ["PRES_STAGE", "PRES_VALUE", "PRES_UNITS"],
									  "additionalProperties": false
									},
									"minItems": 1
								  }
								},
								"required": ["VIEW_PRES", "STAGE_PRES"],
								"additionalProperties": false
							  },
							  {
								"type": "object",
								"properties": {
								  "VIEW_PRES": {
									"type": "string",
									"enum": ["TOP/BOTTOM"],
									"description": "压力视图类型：TOP/BOTTOM - 塔顶/塔底压力配置"
								  },
								  "STAGE_PRES": {
									"type": "array",
									"description": "塔顶/塔底压力配置数据",
									"items": {
									  "type": "object",
									  "properties": {
										"PRES1_VALUE": {
										  "type": "number",
										  "description": "第一参考点压力值（通常为塔顶或冷凝器压力）"
										},
										"PRES1_UNITS": {
										  "type": "string",
										  "enum": ["atm", "bar", "kPa", "MPa", "psi"],
										  "description": "第一参考点压力单位"
										},
										"OPT_PRES_TOP": {
										  "type": "string",
										  "enum": ["DP-COND", "STAGE-2"],
										  "description": "顶部压力参考选项：DP-COND-冷凝器压降，STAGE-2-塔板2压力"
										},
										"PRES2_VALUE": {
										  "type": ["number", "null"],
										  "description": "第二参考点压力值（当OPT_PRES_TOP为STAGE-2时使用）"
										},
										"PRES2_UNITS": {
										  "type": "string",
										  "enum": ["atm", "bar", "kPa", "MPa", "psi"],
										  "description": "第二参考点压力单位"
										},
										"DP_COND_VALUE": {
										  "type": ["number", "null"],
										  "minimum": 0,
										  "description": "冷凝器压降值（当OPT_PRES_TOP为DP-COND时使用）"
										},
										"DP_COND_UNITS": {
										  "type": "string",
										  "enum": ["atm", "bar", "kPa", "MPa", "psi"],
										  "description": "冷凝器压降单位"
										},
										"OPT_PRES": {
										  "type": "string",
										  "enum": ["DP-COL", "DP-STAGE"],
										  "description": "压力指定方式：DP-COL-塔压降，DP-STAGE-塔板压降"
										},
										"DP_STAGE_VALUE": {
										  "type": ["number", "null"],
										  "minimum": 0,
										  "description": "塔板压降值（当OPT_PRES为DP-STAGE时使用）"
										},
										"DP_STAGE_UNITS": {
										  "type": "string",
										  "enum": ["atm", "bar", "kPa", "MPa", "psi"],
										  "description": "塔板压降单位"
										},
										"DP_COL_VALUE": {
										  "type": ["number", "null"],
										  "minimum": 0,
										  "description": "全塔压降值（当OPT_PRES为DP-COL时使用）"
										},
										"DP_COL_UNITS": {
										  "type": "string",
										  "enum": ["atm", "bar", "kPa", "MPa", "psi"],
										  "description": "全塔压降单位"
										}
									  },
									  "allOf": [
										{
										  "if": {
											"properties": {
											  "OPT_PRES_TOP": { "const": "DP-COND" }
											},
											"required": ["OPT_PRES_TOP"]
										  },
										  "then": {
											"required": ["DP_COND_VALUE", "DP_COND_UNITS"],
											"properties": {
											  "DP_COND_VALUE": { "type": "number", "minimum": 0 },
											  "DP_COND_UNITS": { "type": "string" },
											  "PRES2_VALUE": { "type": "null" },
											  "PRES2_UNITS": { "type": "null" }
											}
										  }
										},
										{
										  "if": {
											"properties": {
											  "OPT_PRES_TOP": { "const": "STAGE-2" }
											},
											"required": ["OPT_PRES_TOP"]
										  },
										  "then": {
											"required": ["PRES2_VALUE", "PRES2_UNITS"],
											"properties": {
											  "PRES2_VALUE": { "type": "number", "minimum": 0 },
											  "PRES2_UNITS": { "type": "string" },
											  "DP_COND_VALUE": { "type": "null" },
											  "DP_COND_UNITS": { "type": "null" }
											}
										  }
										},
										{
										  "if": {
											"properties": {
											  "OPT_PRES": { "const": "DP-COL" }
											},
											"required": ["OPT_PRES"]
										  },
										  "then": {
											"required": ["DP_COL_VALUE", "DP_COL_UNITS"],
											"properties": {
											  "DP_COL_VALUE": { "type": "number", "minimum": 0 },
											  "DP_COL_UNITS": { "type": "string" },
											  "DP_STAGE_VALUE": { "type": "null" },
											  "DP_STAGE_UNITS": { "type": "null" }
											}
										  }
										},
										{
										  "if": {
											"properties": {
											  "OPT_PRES": { "const": "DP-STAGE" }
											},
											"required": ["OPT_PRES"]
										  },
										  "then": {
											"required": ["DP_STAGE_VALUE", "DP_STAGE_UNITS"],
											"properties": {
											  "DP_STAGE_VALUE": { "type": "number", "minimum": 0 },
											  "DP_STAGE_UNITS": { "type": "string" },
											  "DP_COL_VALUE": { "type": "null" },
											  "DP_COL_UNITS": { "type": "null" }
											}
										  }
										}
									  ],
									  "required": [
										"PRES1_VALUE",
										"PRES1_UNITS",
										"OPT_PRES_TOP",
										"OPT_PRES"
									  ],
									  "additionalProperties": false
									},
									"minItems": 1,
									"maxItems": 1
								  }
								},
								"required": ["VIEW_PRES", "STAGE_PRES"],
								"additionalProperties": false
							  }
							]
						  },
						"CONDENSER_DATA": {
							"type": "object",
							"description": "冷凝器数据",
							"properties": {
								"OPT_COND_SPC": {
									"type": "string",
									"enum": ["VFRAC", "TEMP"],
									"default": "VFRAC",
									"description": "冷凝器规格选项"
								},
								"BASIS_RDV_VALUE": {
									"type": "number",
									"description": "回流汽相分率数值"
								},
								"BASIS_RDV_BASIS": {
									"type": "string",
									"enum": ["MOLE", "MASS"],
									"description": "回流汽相分率基准"
								},
								"SC_OPTION": {
									"type": "string",
									"enum": ["REFLUX-AND-DISTILLATE", "BOILUP-AND-BOTTOM"],
									"description": "分流选项"
								}
							},
							"required": ["OPT_COND_SPC", "SC_OPTION"],
							"additionalProperties": false
						},
						"DESIGN_SPEC_DATA": {
							"type": "array",
							"description": "设计规定数据配置",
							"items": {
							  "type": "object",
							  "properties": {
								"SPEC_ID": {
								  "type": "string",
								  "description": "设计规定ID，如 '1'、'2' 等"
								},
								"SPEC_VALUE": {
								  "type": "number",
								  "minimum": 0,
								  "maximum": 1,
								  "description": "设计规定目标值"
								},
								"SPEC_TYPE_VALUE": {
								  "type": "string",
								  "enum": ["MASS-FRAC", "MOLE-FRAC", "MASS-FLOW", "MOLE-FLOW"],
								  "description": "设计规定类型：MASS-FRAC-质量分数，MOLE-FRAC-摩尔分数，MASS-FLOW-质量流量，MOLE-FLOW-摩尔流量"
								},
								"OPT_SPC_STR_VALUE": {
								  "type": "string",
								  "enum": ["PRODUCT", "INTERNAL", "DECANTER"],
								  "description": "规定适用的物流类型：PRODUCT-产品，INTERNAL-内部，DECANTER-倾析器"
								},
								"COMP_DATA": {
								  "type": "array",
								  "description": "涉及的组分列表",
								  "items": {
									"type": "string",
									"description": "组分名称，如 'EB'、'STYRENE' 等"
								  },
								  "minItems": 1
								},
								"SPEC_STREAMS": {
								  "type": "array",
								  "description": "适用的物流列表",
								  "items": {
									"type": "string",
									"description": "物流名称，如 'ETHBZ-PD'、'STYR-PD' 等"
								  },
								  "minItems": 1
								}
							  },
							  "required": [
								"SPEC_ID",
								"SPEC_VALUE",
								"SPEC_TYPE_VALUE",
								"OPT_SPC_STR_VALUE",
								"COMP_DATA",
								"SPEC_STREAMS"
							  ],
							  "additionalProperties": false
							},
							"minItems": 0
						  },
						"VARY_DATA": {
							"type": "array",
							"description": "变化规定数据配置，数组元素数量必须与DESIGN_SPEC_DATA中保持一致",
							"items": {
							  "type": "object",
							  "properties": {
								"VARY_ID": {
								  "type": "string",
								  "description": "变化规定ID，如 '1'、'2' 等"
								},
								"VARY_VALUE": {
								  "type": "number",
								  "minimum": 0,
								  "description": "与设计规定的目标值DESIGN_SPEC_DATA.SPEC_VALUE保持一致"
								},
								"VARTYPE_VALUE": {
								  "type": "string",
								  "enum": ["RR","RP", "B:F", "D:F","D","B"],
								  "description": "调整变量类型：RR-回流比，RR-再沸比，B:F-塔底采出与进料比，D:F-馏出液与进料比，D-馏出物流率，B-塔底物流率,变量取值必须与CONFIG_DATA.OP_SPEC.specType中的值设置一致"
								},
								"LB_VALUE": {
								  "type": "number",
								  "description": "变化范围下限值，当前VARTYPE_VALUE为B:F或D:F时，取值范围为0-1"
								},
								"UB_VALUE": {
								  "type": "number",
								  "description": "变化范围上限值，当前VARTYPE_VALUE为B:F或D:F时，取值范围为0-1"
								},
								"STEP_VALUE": {
								  "type": ["number", "null"],
								  "minimum": 0,
								  "description": "变化步长，null表示自动步长"
								},
								"COMP_DATA": {
								  "type": "array",
								  "description": "涉及的组分列表(可选)",
								  "items": {
									"type": "string",
									"description": "组分名称"
								  },
								  "minItems": 0
								}
							  },
							  "required": [
								"VARY_ID",
								"VARY_VALUE",
								"VARTYPE_VALUE",
								"LB_VALUE",
								"UB_VALUE",
								"STEP_VALUE",
								"COMP_DATA"
							  ],
							  "additionalProperties": false
							},
							"minItems": 0
						  }
					},
					"required": ["CONFIG_DATA", "PRES_DATA", "CONDENSER_DATA"],
					"additionalProperties": false
				}
			},
			"additionalProperties": false
		}
	}
}